{% include 'includes/header.twig' %}

{% include 'includes/navbar.twig' %}

<div class="container mx-auto my-8">
    <h1 class="text-4xl font-bold mb-8 text-center">Cryptocurrency Information</h1>

    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
        {% for currency in currencies %}
            <div class="bg-white rounded-lg shadow-md border border-gray-200 transition duration-300 ease-in-out transform hover:scale-105">
                <div class="bg-gray-200 text-center py-4">
                    <h2 class="text-2xl font-semibold">{{ currency.getName() }}</h2>
                    <p class="text-lg text-gray-600">{{ currency.getSymbol() }}</p>
                </div>
                <div class="p-4">
                    <table class="w-full">
                        <tbody>
                        <tr class="border-b border-gray-200">
                            <td class="py-2 px-4 text-left font-semibold">Price Change</td>
                            <td class="py-2 px-4 text-right font-semibold
                                {% set change = currency.getPriceChange() %}
                                {% if change < 0 %}
                                    text-red-500
                                {% elseif change > 0 %}
                                       text-green-500
                                {% endif %}
                            ">
                                {{ currency.getPriceChange() }}
                            </td>
                        </tr>
                        <tr class="border-b border-gray-200">
                            <td class="py-2 px-4 text-left font-semibold">Volume</td>
                            <td class="py-2 px-4 text-right font-semibold">{{ currency.getVolume() }}</td>
                        </tr>
                        <tr class="border-b border-gray-200">
                            <td class="py-2 px-4 text-left font-semibold">Price Change Percent</td>
                            <td class="py-2 px-4 text-right font-semibold
                                    {% set priceChangePercent = currency.getPriceChangePercent()|replace({'%': ''})|trim %}
                                    {% if priceChangePercent|slice(0, 1) == '-' %}
                                        text-red-500
                                    {% elseif priceChangePercent > 0 %}
                                        text-green-500
                                    {% endif %}
                                ">
                                {{ currency.getPriceChangePercent() }}
                            </td>
                        </tr>
                        <tr class="border-b border-gray-200">
                            <td class="py-2 px-4 text-left font-semibold">Weighted Avg Price</td>
                            <td class="py-2 px-4 text-right font-semibold">{{ currency.getWeightedAvgPrice() }}</td>
                        </tr>
                        <tr class="border-b border-gray-200">
                            <td class="py-2 px-4 text-left font-semibold">Prev Close Price</td>
                            <td class="py-2 px-4 text-right font-semibold">{{ currency.getPrevClosePrice() }}</td>
                        </tr>
                        <tr class="border-b border-gray-200">
                            <td class="py-2 px-4 text-left font-semibold">Last Price</td>
                            <td class="py-2 px-4 text-right font-semibold">{{ currency.getLastPrice() }}</td>
                        </tr>
                        <tr class="border-b border-gray-200">
                            <td class="py-2 px-4 text-left font-semibold">Ask Price</td>
                            <td class="py-2 px-4 text-right font-semibold">{{ currency.getAskPrice() }}</td>
                        </tr>
                        <tr class="border-b border-gray-200">
                            <td class="py-2 px-4 text-left font-semibold">Open Time</td>
                            <td class="py-2 px-4 text-right font-semibold">{{ currency.getOpenTime() }}</td>
                        </tr>
                        <tr class="border-b border-gray-200">
                            <td class="py-2 px-4 text-left font-semibold">Close Time</td>
                            <td class="py-2 px-4 text-right font-semibold">{{ currency.getCloseTime() }}</td>
                        </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        {% endfor %}
    </div>
</div>
</body>
</html>
